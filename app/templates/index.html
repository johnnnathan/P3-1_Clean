<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Privacy Project</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script defer src="{{ url_for('static', filename='script.js') }}"></script>
</head>

<body>
    <header>
        <div class="container">
            <h1>Event Privacy Project</h1>
            <p class="subtitle">Upload event files to process them with various privacy-preserving transformations</p>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="tabs">
                <div class="tab-list">
                    <button class="tab-button" data-tab="visual-tab">Visualization</button>
                    <button class="tab-button" data-tab="v2e-tab">V2E</button>
                    <button class="tab-button" data-tab="face-blur">Face Blurring</button>
                    <button class="tab-button" data-tab="pose-estimation">Pose Estimation</button>
                    <button class="tab-button" data-tab="labeling-tab">Data Labeling</button>
                    <button class="tab-button" data-tab="action-scoring">Action Scoring</button>
                </div>

                <div class="tab-content" id="pose-estimation">
                  <div class="card">
                    <h3> Pose Estimation </h3>
                    <p> Perform pose estimation and action classification on event stream </p>


                    <form action="/api/action-scoring" method="post" enctype="multipart/form-data">
                        <label>Select file:</label>
                        <input type="file" name="file" required>

                        <button type="submit">Perform Action Scoring</button>
                    </form>

                  </div>
                </div>


                <!-- Face Blur -->
                <div class="tab-content" id="face-blur">
                    <div class="card">
                        <h3>Face Blur</h3>
                        <p>Applies pixel shuffling to detected faces. Larger blur = Less reversible.</p>
                        <form action="/api/face_blur" method="post" enctype="multipart/form-data">
                            <label>Select file:</label>
                            <input type="file" name="file" required>

                            <label>Shuffle strength:</label>
                            <input type="number" name="blur" value="0.5" step="0.1" min="0.1" max="1">

                            <button type="submit">Run Face Blur</button>
                        </form>
                    </div>
                </div>
                <!-- Visualization -->
                <div class="tab-content" id="visual-tab">
                    <div class="card">
                        <h3>Visualization</h3>
                        <p>Visualized the event data into a video format.</p>
                        <form id="visual-form" method="POST" enctype="multipart/form-data">
                            <label>Select event file:</label>
                            <input class="make-wide" type="file" name="file" required>

                            <label>Interval (ms):</label>
                            <input class="make-wide" type="number" name="interval" value="50" step="10" min="10" max="500">

                            <button type="submit">Generate Visualization</button>
                        </form>

                        <div id="visual-output">
                            <a id="download-btn" href="#" download>Download GIF</a>
                            <img id="visual-gif" src="" alt="">
                        </div>
                    </div>
                </div>
                <!-- V2E -->
                <div class="tab-content" id="v2e-tab">
                    <div class="card">
                        <h3>Video-2-Event</h3>
                        <p>Converts the video data into event data.</p>
                        <form action="/api/v2e" method="POST" enctype="multipart/form-data">
                            <label>Select mp4 file:</label>
                            <input class="make-wide" type="file" name="file" required>

                            <button type="submit">Generate Events</button>
                        </form>

                    </div>
                </div>


            </div>
        </div>
    </main>
</body>
